!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.Holder=t():e.Holder=t()}(this,function(){return function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(z,e,G){(function(T){function D(e,t,n,r){var i=E(n.substr(n.lastIndexOf(e.domain)),e);i&&F({mode:null,el:r,flags:i,engineSettings:t})}function E(e,t){for(var n={theme:I(U.settings.themes.gray,null),stylesheets:t.stylesheets,holderURL:[]},r=!1,i=String.fromCharCode(11),o=e.replace(/([^\\])\//g,"$1"+i).split(i),a=/%[0-9a-f]{2}/gi,s=o.length,l=0;l<s;l++){var d=o[l];if(d.match(a))try{d=decodeURIComponent(d)}catch(e){d=o[l]}var h=!1;if(U.flags.dimensions.match(d))r=!0,n.dimensions=U.flags.dimensions.output(d),h=!0;else if(U.flags.fluid.match(d))r=!0,n.dimensions=U.flags.fluid.output(d),h=n.fluid=!0;else if(U.flags.textmode.match(d))n.textmode=U.flags.textmode.output(d),h=!0;else if(U.flags.colors.match(d)){var u=U.flags.colors.output(d);n.theme=I(n.theme,u),h=!0}else if(t.themes[d])t.themes.hasOwnProperty(d)&&(n.theme=I(t.themes[d],null)),h=!0;else if(U.flags.font.match(d))n.font=U.flags.font.output(d),h=!0;else if(U.flags.auto.match(d))h=n.auto=!0;else if(U.flags.text.match(d))n.text=U.flags.text.output(d),h=!0;else if(U.flags.size.match(d))n.size=U.flags.size.output(d),h=!0;else if(U.flags.random.match(d)){null==U.vars.cache.themeKeys&&(U.vars.cache.themeKeys=Object.keys(t.themes));var c=U.vars.cache.themeKeys[0|Math.random()*U.vars.cache.themeKeys.length];n.theme=I(t.themes[c],null),h=!0}h&&n.holderURL.push(d)}return n.holderURL.unshift(t.domain),n.holderURL=n.holderURL.join("/"),!!r&&n}function F(e){var t=e.mode,n=e.el,r=e.flags,i=e.engineSettings,o=r.dimensions,a=r.theme,s=o.width+"x"+o.height;if(t=null==t?r.fluid?"fluid":"image":t,null!=r.text&&(a.text=r.text,"object"===n.nodeName.toLowerCase())){for(var l=a.text.split("\\n"),d=0;d<l.length;d++)l[d]=w(l[d]);a.text=l.join("\\n")}var h=r.holderURL,u=I(i,null);if(r.font&&(a.font=r.font,!u.noFontFallback&&"img"===n.nodeName.toLowerCase()&&U.setup.supportsCanvas&&"svg"===u.renderer&&(u=I(u,{renderer:"canvas"}))),r.font&&"canvas"==u.renderer&&(u.reRender=!0),"background"==t)null==n.getAttribute("data-background-src")&&L(n,{"data-background-src":h});else{var c={};c[U.vars.dataAttr]=h,L(n,c)}r.theme=a,n.holderData={flags:r,engineSettings:u},("image"==t||"fluid"==t)&&L(n,{alt:a.text?a.text+" ["+s+"]":s});var f={mode:t,el:n,holderSettings:{dimensions:o,theme:a,flags:r},engineSettings:u};"image"==t?("html"!=u.renderer&&r.auto||(n.style.width=o.width+"px",n.style.height=o.height+"px"),"html"==u.renderer?n.style.backgroundColor=a.background:(g(f),"exact"==r.textmode&&(n.holderData.resizeUpdate=!0,U.vars.resizableImages.push(n),p(n)))):"background"==t&&"html"!=u.renderer?g(f):"fluid"==t&&(n.holderData.resizeUpdate=!0,"%"==o.height.slice(-1)?n.style.height=o.height:null!=r.auto&&r.auto||(n.style.height=o.height+"px"),"%"==o.width.slice(-1)?n.style.width=o.width:null!=r.auto&&r.auto||(n.style.width=o.width+"px"),("inline"==n.style.display||""===n.style.display||"none"==n.style.display)&&(n.style.display="block"),function(e){if(e.holderData){var t=S(e);if(t){var n=e.holderData.flags,r={fluidHeight:"%"==n.dimensions.height.slice(-1),fluidWidth:"%"==n.dimensions.width.slice(-1),mode:null,initialDimensions:t};r.fluidWidth&&!r.fluidHeight?(r.mode="width",r.ratio=r.initialDimensions.width/parseFloat(n.dimensions.height)):!r.fluidWidth&&r.fluidHeight&&(r.mode="height",r.ratio=parseFloat(n.dimensions.width)/r.initialDimensions.height),e.holderData.fluidConfig=r}else m(e)}}(n),"html"==u.renderer?n.style.backgroundColor=a.background:(U.vars.resizableImages.push(n),p(n)))}function g(t){function n(){var e=null;switch(a.renderer){case"canvas":e=f(l,t);break;case"svg":e=C(l,t);break;default:throw"Holder: invalid renderer: "+a.renderer}return e}var e,r=t.mode,i=t.holderSettings,o=t.el,a=t.engineSettings;switch(a.renderer){case"svg":if(!U.setup.supportsSVG)return;break;case"canvas":if(!U.setup.supportsCanvas)return;break;default:return}var s={width:i.dimensions.width,height:i.dimensions.height,theme:i.theme,flags:i.flags},l=function(e){function t(e,t,n,r){t.width=n,t.height=r,e.width=Math.max(e.width,t.width),e.height+=t.height,e.add(t)}var n=U.defaults.size;switch(parseFloat(e.theme.size)?n=e.theme.size:parseFloat(e.flags.size)&&(n=e.flags.size),e.font={family:e.theme.font?e.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:(r=e.width,i=e.height,o=n,a=parseInt(r,10),s=parseInt(i,10),l=Math.max(a,s),d=Math.min(a,s),h=.8*Math.min(d,l*U.defaults.scale),Math.round(Math.max(o,h))),units:e.theme.units?e.theme.units:U.defaults.units,weight:e.theme.fontweight?e.theme.fontweight:"bold"},e.text=e.theme.text?e.theme.text:Math.floor(e.width)+"x"+Math.floor(e.height),e.flags.textmode){case"literal":e.text=e.flags.dimensions.width+"x"+e.flags.dimensions.height;break;case"exact":if(!e.flags.exactDimensions)break;e.text=Math.floor(e.flags.exactDimensions.width)+"x"+Math.floor(e.flags.exactDimensions.height)}var r,i,o,a,s,l,d,h;var u=new A({width:e.width,height:e.height}),c=u.Shape,f=new c.Rect("holderBg",{fill:e.theme.background});f.resize(e.width,e.height),u.root.add(f);var g=new c.Group("holderTextGroup",{text:e.text,align:"center",font:e.font,fill:e.theme.foreground});g.moveTo(null,null,1),u.root.add(g);var p=g.textPositionData=H(u);if(!p)throw"Holder: staging fallback not supported yet.";g.properties.leading=p.boundingBox.height;var m=null,v=null;if(1<p.lineCount){var x=0,y=0,w=e.width*U.setup.lineWrapRatio,b=0;v=new c.Group("line"+b);for(var S=0;S<p.words.length;S++){var C=p.words[S];m=new c.Text(C.text);var k="\\n"==C.text;(x+C.width>=w||!0===k)&&(t(g,v,x,g.properties.leading),x=0,y+=g.properties.leading,b+=1,(v=new c.Group("line"+b)).y=y),!0!==k&&(m.moveTo(x,0),x+=p.spaceWidth+C.width,v.add(m))}for(var z in t(g,v,x,g.properties.leading),g.children)(v=g.children[z]).moveTo((g.width-v.width)/2,null,null);g.moveTo((e.width-g.width)/2,(e.height-g.height)/2,null),(e.height-g.height)/2<0&&g.moveTo(null,0,null)}else m=new c.Text(e.text),(v=new c.Group("line0")).add(m),g.add(v),g.moveTo((e.width-p.boundingBox.width)/2,(e.height-p.boundingBox.height)/2,null);return u}(s);if(null==(e=n()))throw"Holder: couldn't render placeholder";"background"==r?(o.style.backgroundImage="url("+e+")",o.style.backgroundSize=s.width+"px "+s.height+"px"):("img"===o.nodeName.toLowerCase()?L(o,{src:e}):"object"===o.nodeName.toLowerCase()&&(L(o,{data:e}),L(o,{type:"image/svg+xml"})),a.reRender&&T.setTimeout(function(){var e=n();if(null==e)throw"Holder: couldn't render placeholder";"img"===o.nodeName.toLowerCase()?L(o,{src:e}):"object"===o.nodeName.toLowerCase()&&(L(o,{data:e}),L(o,{type:"image/svg+xml"}))},100)),L(o,{"data-holder-rendered":!0})}function p(e){for(var t,n=0,r=(t=null==e||null==e.nodeType?U.vars.resizableImages:[e]).length;n<r;n++){var i=t[n];if(i.holderData){var o=i.holderData.flags,a=S(i);if(a){if(!i.holderData.resizeUpdate)continue;if(o.fluid&&o.auto){var s=i.holderData.fluidConfig;switch(s.mode){case"width":a.height=a.width/s.ratio;break;case"height":a.width=a.height*s.ratio}}var l={mode:"image",holderSettings:{dimensions:a,theme:o.theme,flags:o},el:i,engineSettings:i.holderData.engineSettings};"exact"==o.textmode&&(o.exactDimensions=a,l.holderSettings.dimensions=o.dimensions),g(l)}else m(i)}}}function o(){for(var e,t=[],n=Object.keys(U.vars.invisibleImages),r=0,i=n.length;r<i;r++)e=U.vars.invisibleImages[n[r]],S(e)&&"img"==e.nodeName.toLowerCase()&&(t.push(e),delete U.vars.invisibleImages[n[r]]);t.length&&c.run({images:t}),T.requestAnimationFrame(o)}function m(e){e.holderData.invisibleId||(U.vars.invisibleId+=1,(U.vars.invisibleImages["i"+U.vars.invisibleId]=e).holderData.invisibleId=U.vars.invisibleId)}function R(e,t){return null==t?document.createElement(e):document.createElementNS(t,e)}function L(e,t){for(var n in t)e.setAttribute(n,t[n])}function M(e,t,n){var r,i;null==e?(e=R("svg",P),r=R("defs",P),L(i=R("style",P),{type:"text/css"}),r.appendChild(i),e.appendChild(r)):i=e.querySelector("style"),e.webkitMatchesSelector&&e.setAttribute("xmlns",P);for(var o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===l&&e.removeChild(e.childNodes[o]);for(;i.childNodes.length;)i.removeChild(i.childNodes[0]);return L(e,{width:t,height:n,viewBox:"0 0 "+t+" "+n,preserveAspectRatio:"none"}),e}function B(){return T.DOMParser?(new DOMParser).parseFromString("<xml />","application/xml"):void 0}function e(){!function(e){U.vars.debounceTimer||e.call(this),U.vars.debounceTimer&&T.clearTimeout(U.vars.debounceTimer),U.vars.debounceTimer=T.setTimeout(function(){U.vars.debounceTimer=null,e.call(this)},U.setup.debounce)}(function(){p(null)})}var d,h,v,x,y,t,n,r,i,a=G(1),A=G(2),s=G(3),I=s.extend,N=s.cssProps,w=s.encodeHtmlEntity,b=s.decodeHtmlEntity,j=s.imageExists,O=s.getNodeArray,S=s.dimensionCheck,P="http://www.w3.org/2000/svg",l=8,u="2.6.0",c={version:u,addTheme:function(e,t){return null!=e&&null!=t&&(U.settings.themes[e]=t),delete U.vars.cache.themeKeys,this},addImage:function(e,t){var n=document.querySelectorAll(t);if(n.length)for(var r=0,i=n.length;r<i;r++){var o=R("img"),a={};a[U.vars.dataAttr]=e,L(o,a),n[r].appendChild(o)}return this},setResizeUpdate:function(e,t){e.holderData&&(e.holderData.resizeUpdate=!!t,e.holderData.resizeUpdate&&p(e))},run:function(e){e=e||{};var t={},n=I(U.settings,e);U.vars.preempted=!0,U.vars.dataAttr=n.dataAttr||U.vars.dataAttr,t.renderer=n.renderer?n.renderer:U.setup.renderer,-1===U.setup.renderers.join(",").indexOf(t.renderer)&&(t.renderer=U.setup.supportsSVG?"svg":U.setup.supportsCanvas?"canvas":"html");var r=O(n.images),i=O(n.bgnodes),o=O(n.stylenodes),a=O(n.objects);t.stylesheets=[],t.svgXMLStylesheet=!0,t.noFontFallback=!!n.noFontFallback&&n.noFontFallback;for(var s=0;s<o.length;s++){var l=o[s];if(l.attributes.rel&&l.attributes.href&&"stylesheet"==l.attributes.rel.value){var d=l.attributes.href.value,h=R("a");h.href=d;var u=h.protocol+"//"+h.host+h.pathname+h.search;t.stylesheets.push(u)}}for(s=0;s<i.length;s++)if(T.getComputedStyle){var c=T.getComputedStyle(i[s],null).getPropertyValue("background-image"),f=i[s].getAttribute("data-background-src"),g=null;g=null==f?c:f;var p=null,m="?"+n.domain+"/";if(0===g.indexOf(m))p=g.slice(1);else if(-1!=g.indexOf(m)){var v=g.substr(g.indexOf(m)).slice(1).match(/([^\"]*)"?\)/);null!=v&&(p=v[1])}if(null!=p){var x=E(p,n);x&&F({mode:"background",el:i[s],flags:x,engineSettings:t})}}for(s=0;s<a.length;s++){var y=a[s],w={};try{w.data=y.getAttribute("data"),w.dataSrc=y.getAttribute(U.vars.dataAttr)}catch(e){}var b=null!=w.data&&0===w.data.indexOf(n.domain),S=null!=w.dataSrc&&0===w.dataSrc.indexOf(n.domain);b?D(n,t,w.data,y):S&&D(n,t,w.dataSrc,y)}for(s=0;s<r.length;s++){var C=r[s],k={};try{k.src=C.getAttribute("src"),k.dataSrc=C.getAttribute(U.vars.dataAttr),k.rendered=C.getAttribute("data-holder-rendered")}catch(e){}var z=null!=k.src,A=null!=k.dataSrc&&0===k.dataSrc.indexOf(n.domain),L=null!=k.rendered&&"true"==k.rendered;z?0===k.src.indexOf(n.domain)?D(n,t,k.src,C):A&&(L?D(n,t,k.dataSrc,C):function(e,t,n,r,i){j(e,function(e){e||D(t,n,r,i)})}(k.src,n,t,k.dataSrc,C)):A&&D(n,t,k.dataSrc,C)}return this}},U={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",stylesheets:[],themes:{gray:{background:"#EEEEEE",foreground:"#AAAAAA"},social:{background:"#3a5a97",foreground:"#FFFFFF"},industrial:{background:"#434A52",foreground:"#C2F200"},sky:{background:"#0D8FDB",foreground:"#FFFFFF"},vine:{background:"#39DBAC",foreground:"#1E292C"},lava:{background:"#F8591A",foreground:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16},flags:{dimensions:{regex:/^(\d+)x(\d+)$/,output:function(e){var t=this.regex.exec(e);return{width:+t[1],height:+t[2]}}},fluid:{regex:/^([0-9]+%?)x([0-9]+%?)$/,output:function(e){var t=this.regex.exec(e);return{width:t[1],height:t[2]}}},colors:{regex:/(?:#|\^)([0-9a-f]{3,})\:(?:#|\^)([0-9a-f]{3,})/i,output:function(e){var t=this.regex.exec(e);return{foreground:"#"+t[2],background:"#"+t[1]}}},text:{regex:/text\:(.*)/,output:function(e){return this.regex.exec(e)[1].replace("\\/","/")}},font:{regex:/font\:(.*)/,output:function(e){return this.regex.exec(e)[1]}},auto:{regex:/^auto$/},textmode:{regex:/textmode\:(.*)/,output:function(e){return this.regex.exec(e)[1]}},random:{regex:/^random$/},size:{regex:/size\:(\d+)/,output:function(e){return this.regex.exec(e)[1]}}}},H=(y=x=v=null,function(e){var t,n=e.root;if(U.setup.supportsSVG){var r=!1;(null==v||v.parentNode!==document.body)&&(r=!0),(v=M(v,n.properties.width,n.properties.height)).style.display="block",r&&(x=R("text",P),t=null,y=document.createTextNode(t),L(x,{x:0}),x.appendChild(y),v.appendChild(x),document.body.appendChild(v),v.style.visibility="hidden",v.style.position="absolute",v.style.top="-100%",v.style.left="-100%");var i=n.children.holderTextGroup.properties;L(x,{y:i.font.size,style:N({"font-weight":i.font.weight,"font-size":i.font.size+i.font.units,"font-family":i.font.family})}),y.nodeValue=i.text;var o=x.getBBox(),a=Math.ceil(o.width/(n.properties.width*U.setup.lineWrapRatio)),s=i.text.split(" "),l=i.text.match(/\\n/g);a+=null==l?0:l.length,y.nodeValue=i.text.replace(/[ ]+/g,"");var d=x.getComputedTextLength(),h=o.width-d,u=Math.round(h/Math.max(1,s.length-1)),c=[];if(1<a){y.nodeValue="";for(var f=0;f<s.length;f++)if(0!==s[f].length){y.nodeValue=b(s[f]);var g=x.getBBox();c.push({text:s[f],width:g.width})}}return v.style.display="none",{spaceWidth:u,lineCount:a,boundingBox:o,words:c}}return!1}),f=(d=R("canvas"),h=null,function(e){null==h&&(h=d.getContext("2d"));var t=e.root;d.width=U.dpr(t.properties.width),d.height=U.dpr(t.properties.height),h.textBaseline="middle",h.fillStyle=t.children.holderBg.properties.fill,h.fillRect(0,0,U.dpr(t.children.holderBg.width),U.dpr(t.children.holderBg.height));var n=t.children.holderTextGroup;for(var r in n.properties,h.font=n.properties.font.weight+" "+U.dpr(n.properties.font.size)+n.properties.font.units+" "+n.properties.font.family+", monospace",h.fillStyle=n.properties.fill,n.children){var i=n.children[r];for(var o in i.children){var a=i.children[o],s=U.dpr(n.x+i.x+a.x),l=U.dpr(n.y+i.y+a.y+n.properties.leading/2);h.fillText(a.properties.text,s,l)}}return d.toDataURL("image/png")}),C=function(){if(T.XMLSerializer){var k=B(),z=M(null,0,0),A=R("rect",P);return z.appendChild(A),function(e,t){var n=e.root;M(z,n.properties.width,n.properties.height);for(var r=z.querySelectorAll("g"),i=0;i<r.length;i++)r[i].parentNode.removeChild(r[i]);var o=t.holderSettings.flags.holderURL,a="holder_"+(Number(new Date)+32768+(0|32768*Math.random())).toString(16),s=R("g",P),l=n.children.holderTextGroup,d=l.properties,h=R("g",P),u=l.textPositionData,c="#"+a+" text { "+N({fill:d.fill,"font-weight":d.font.weight,"font-family":d.font.family+", monospace","font-size":d.font.size+d.font.units})+" } ",f=k.createComment("\nSource URL: "+o+"\nCreated with Holder.js 2.6.0.\nLearn more at http://holderjs.com\n(c) 2012-2015 Ivan Malopinsky - http://imsky.co\n"),g=k.createCDATASection(c),p=z.querySelector("style");for(var m in L(s,{id:a}),z.insertBefore(f,z.firstChild),p.appendChild(g),s.appendChild(A),s.appendChild(h),z.appendChild(s),L(A,{width:n.children.holderBg.width,height:n.children.holderBg.height,fill:n.children.holderBg.properties.fill}),l.y+=.8*u.boundingBox.height,l.children){var v=l.children[m];for(var x in v.children){var y=v.children[x],w=l.x+v.x+y.x,b=l.y+v.y+y.y,S=R("text",P),C=document.createTextNode(null);L(S,{x:w,y:b}),C.nodeValue=y.properties.text,S.appendChild(C),h.appendChild(S)}}return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(function(e,t){if(T.XMLSerializer){var n=new XMLSerializer,r="",i=t.stylesheets;if(t.svgXMLStylesheet){for(var o=B(),a=i.length-1;0<=a;a--){var s=o.createProcessingInstruction("xml-stylesheet",'href="'+i[a]+'" rel="stylesheet"');o.insertBefore(s,o.firstChild)}var l=o.createProcessingInstruction("xml",'version="1.0" encoding="UTF-8" standalone="yes"');o.insertBefore(l,o.firstChild),o.removeChild(o.documentElement),r=n.serializeToString(o)}var d=n.serializeToString(e);return r+(d=d.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"))}}(z,t.engineSettings))))}}}();for(var k in U.flags)U.flags.hasOwnProperty(k)&&(U.flags[k].match=function(e){return e.match(this.regex)});U.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,renderers:["html","canvas","svg"]},U.dpr=function(e){return e*U.setup.ratio},U.vars={preempted:!1,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:!1,debounceTimer:null,cache:{},dataAttr:"data-src"},n=t=1,r=R("canvas"),i=null,r.getContext&&-1!=r.toDataURL("image/png").indexOf("data:image/png")&&(U.setup.renderer="canvas",i=r.getContext("2d"),U.setup.supportsCanvas=!0),U.setup.supportsCanvas&&(t=T.devicePixelRatio||1,n=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1),U.setup.ratio=t/n,document.createElementNS&&document.createElementNS(P,"svg").createSVGRect&&(U.setup.renderer="svg",U.setup.supportsSVG=!0),U.vars.visibilityCheckStarted||(T.requestAnimationFrame(o),U.vars.visibilityCheckStarted=!0),a&&a(function(){U.vars.preempted||c.run(),T.addEventListener?(T.addEventListener("resize",e,!1),T.addEventListener("orientationchange",e,!1)):T.attachEvent("onresize",e),"object"==typeof T.Turbolinks&&T.document.addEventListener("page:change",function(){c.run()})}),z.exports=c}).call(e,function(){return this}())},function(e){e.exports="undefined"!=typeof window&&function(e){function n(e){if(!b){if(!a.body)return i(n);for(b=!0;e=S.shift();)i(e)}}function t(e){(y||e.type===l||a[c]===u)&&(r(),n())}function r(){y?(a[x](m,t,d),e[x](l,t,d)):(a[g](v,t),e[g](h,t))}function i(e,t){setTimeout(e,0<=+t?t:1)}function o(e){b?i(e):S.push(e)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e,!1),document.readyState="complete"},!1),document.readyState="loading");var a=e.document,s=a.documentElement,l="load",d=!1,h="on"+l,u="complete",c="readyState",f="attachEvent",g="detachEvent",p="addEventListener",m="DOMContentLoaded",v="onreadystatechange",x="removeEventListener",y=p in a,w=d,b=d,S=[];if(a[c]===u)i(n);else if(y)a[p](m,t,d),e[p](l,t,d);else{a[f](v,t),e[f](h,t);try{w=null==e.frameElement&&s}catch(e){}w&&w.doScroll&&function t(){if(!b){try{w.doScroll("left")}catch(e){return i(t,50)}r(),n()}}()}return o.version="1.4.0",o.isReady=function(){return b},o}(window)},function(e,t,n){var a=n(4);e.exports=function(t){var n=1,e=a.defclass({constructor:function(e){n++,this.parent=null,this.children={},this.id=n,this.name="n"+n,null!=e&&(this.name=e),this.x=0,this.y=0,this.z=0,this.width=0,this.height=0},resize:function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t)},moveTo:function(e,t,n){this.x=null!=e?e:this.x,this.y=null!=t?t:this.y,this.z=null!=n?n:this.z},add:function(e){var t=e.name;if(null!=this.children[t])throw"SceneGraph: child with that name already exists: "+t;(this.children[t]=e).parent=this}}),r=a(e,function(e){this.constructor=function(){e.constructor.call(this,"root"),this.properties=t}}),i=a(e,function(n){function t(e,t){if(n.constructor.call(this,e),this.properties={fill:"#000"},null!=t)!function(e,t){for(var n in t)e[n]=t[n]}(this.properties,t);else if(null!=e&&"string"!=typeof e)throw"SceneGraph: invalid node name"}this.Group=a.extend(this,{constructor:t,type:"group"}),this.Rect=a.extend(this,{constructor:t,type:"rect"}),this.Text=a.extend(this,{constructor:function(e){t.call(this),this.properties.text=e},type:"text"})}),o=new r;return this.Shape=i,this.root=o,this}},function(e,t){(function(n){t.extend=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);if(null!=t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},t.cssProps=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+":"+e[n]);return t.join(";")},t.encodeHtmlEntity=function(e){for(var t=[],n=0,r=e.length-1;0<=r;r--)n=e.charCodeAt(r),t.unshift(128<n?["&#",n,";"].join(""):e[r]);return t.join("")},t.getNodeArray=function(e){var t=null;return"string"==typeof e?t=document.querySelectorAll(e):n.NodeList&&e instanceof n.NodeList?t=e:n.Node&&e instanceof n.Node?t=[e]:n.HTMLCollection&&e instanceof n.HTMLCollection?t=e:e instanceof Array?t=e:null===e&&(t=[]),t},t.imageExists=function(e,t){var n=new Image;n.onerror=function(){t.call(this,!1)},n.onload=function(){t.call(this,!0)},n.src=e},t.decodeHtmlEntity=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})},t.dimensionCheck=function(e){var t={height:e.clientHeight,width:e.clientWidth};return!(!t.height||!t.width)&&t}}).call(t,function(){return this}())},function(e){var s=function(){},l=Array.prototype.slice,n=function(e,t){var n=s.prototype="function"==typeof e?e.prototype:e,r=new s,i=t.apply(r,l.call(arguments,2).concat(n));if("object"==typeof i)for(var o in i)r[o]=i[o];if(!r.hasOwnProperty("constructor"))return r;var a=r.constructor;return a.prototype=r,a};n.defclass=function(e){var t=e.constructor;return t.prototype=e,t},n.extend=function(e,t){return n(e,function(e){return this.uber=e,t})},e.exports=n}])});